clear; close all;

dts=0.025;
z=tf('z',0.02);
s=tf('s');

%position
% G=tf(0.0942645*[ 1],[ 1, -1.02262, 0.0377818],0.02);
% G=tf(0.364536*[ 1],[ 1, -0.968879, 0.00537095],0.02)
% G=tf(0.156518*[ 1],[ 1, -0.973209, -0.0206462],0.02)
% G=tf(0.139215*[ 1],[ 1, -0.980172],0.02)
G=tf([ 0.0753961],[ 1, 0.0242649, -0.0288532],0.025)


%velocity loop order 1
% G=tf(2.26583*[ 1],[ 1, -0.872412],0.02)
% G=tf(1.96921*[ 1],[ 1, -0.773375],0.02)
% G=tf(1.53223*[ 1],[ 1, -0.95705],0.02)
% G=tf(3.67976*[ 1],[ 1, -0.820698],0.02)
% G=G*dts*z/(z-1);

%velocity loop order 3
% G=tf(0.112161*[ 1],[ 1, -0.877543, -0.0832234, -0.037668],0.02)
% G=tf(0.113422*[ 1],[ 1, -0.968139, -0.0195348, -0.00982847],0.02)
% G=tf(1.22265*[ 1],[ 1, -0.500281, -0.507862],0.02)
% G=tf(0.143742*[ 1],[ 1, -0.997083, -0.00169304, -0.00230541],0.02)
% G=tf(1.05513*[ 1],[ 1, -0.909565, 0.0817223],0.02)
% G=G*dts*z/(z-1);


zpk(G)

z=tf('z',dts);
s=tf('s');

bode(G)

H=0.01+s
C=c2d(H,dts,'tustin')
%bode(H);

F=minreal(C*G/(1+C*G))

figure;
pzmap(G)




